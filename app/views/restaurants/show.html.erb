<% hero_image = @restaurant.photos.first ? url_for(@restaurant.photos.first.variant(resize_to_fill: [1200, 400])) : 'https://images.unsplash.com/photo-1495521821757-a1efb6729352?w=1200&h=400&fit=crop' %>
<div class="restaurant-hero" style="background-image: url('<%= hero_image %>');">
  <div class="restaurant-info-overlay">
    <h1><%= @restaurant.name %></h1>
    <p><%= @restaurant.address || "Ubicaci√≥n" %></p>
  </div>
</div>

<div class="container">
  <div class="restaurant-details">
    <!-- Sidebar con informaci√≥n -->
    <aside class="details-card">
      <h3>üìç Informaci√≥n</h3>
      
      <div class="detail-item">
        <span class="detail-label">Direcci√≥n</span>
        <span class="detail-value"><%= @restaurant.address || "N/A" %></span>
      </div>
      
      <div class="detail-item">
        <span class="detail-label">Horarios</span>
        <span class="detail-value">
          <% if @restaurant.open_time && @restaurant.close_time %>
            <%= @restaurant.open_time.strftime("%H:%M") %> - <%= @restaurant.close_time.strftime("%H:%M") %>
          <% else %>
            N/A
          <% end %>
        </span>
      </div>

      <div class="detail-item">
        <span class="detail-label">Tel√©fono</span>
        <span class="detail-value">+34 123 456 789</span>
      </div>

      <div class="detail-item">
        <span class="detail-label">Capacidad</span>
        <span class="detail-value"><%= @restaurant.tables.sum(:capacity) %> personas</span>
      </div>

      <div class="detail-item">
        <span class="detail-label">Mesas disponibles</span>
        <span class="detail-value"><%= @restaurant.tables.where(available: true).count %> / <%= @restaurant.tables.count %></span>
      </div>
    </aside>

    <!-- Main content: Descripci√≥n + Men√∫ -->
    <section class="restaurant-main">
      <article class="details-card">
        <h3>üìñ Acerca de Nosotros</h3>
        <p><%= @restaurant.description || "Descripci√≥n no disponible" %></p>
      </article>

      <!-- Men√∫ -->
      <h2>üçΩÔ∏è Men√∫</h2>
      <div class="menu-items">
        <% @restaurant.menu_items.each do |item| %>
          <div class="menu-item-card">
            <h4><%= item.name %></h4>
            <p><%= item.description || "Delicioso platillo" %></p>
            <div class="menu-item-price">$<%= number_with_precision(item.price, precision: 2) %></div>
          </div>
        <% end %>
      </div>

      <!-- Botones de acci√≥n -->
      <div class="action-buttons">
        <%= link_to "üìÖ Hacer una Reserva", new_restaurant_reservation_path(@restaurant), class: "btn btn-primary" %>
        <%= link_to "‚≠ê Escribir Rese√±a", new_restaurant_review_path(@restaurant), class: "btn btn-secondary" %>
      </div>

      <!-- Rese√±as -->
      <h2>‚≠ê Rese√±as</h2>
      <div class="reviews-section">
        <% if @restaurant.reviews.any? %>
          <% @restaurant.reviews.each do |review| %>
            <div class="review-item">
              <div class="review-header">
                <span class="review-author"><%= review.name %></span>
                <span class="review-rating">‚òÖ <%= review.rating %>/5</span>
              </div>
              <p class="review-text"><%= review.comment %></p>
            </div>
          <% end %>
        <% else %>
          <p class="text-muted">Sin rese√±as a√∫n. ¬°S√© el primero!</p>
        <% end %>
      </div>
    </section>
  </div>
</div>
