<div class="admin-dashboard">
  <div class="dashboard-header">
    <div>
      <p class="hero-kicker">Panel principal</p>
      <h1>Tu espacio de trabajo</h1>
      <p class="text-muted">Gestiona tus restaurantes y revisa el estado del dia.</p>
    </div>
    <div class="dashboard-actions">
      <%= link_to "Editar restaurante", edit_admin_restaurant_path(current_restaurant), class: "btn btn-primary" %>
    </div>
  </div>

  <div class="stat-grid">
    <div class="stat-card">
      <h3><%= Reservation.where(restaurant_id: @restaurants.map(&:id), reservation_date: Date.current).count %></h3>
      <p>Reservas hoy</p>
    </div>
    <div class="stat-card">
      <h3><%= Reservation.where(restaurant_id: @restaurants.map(&:id)).upcoming.count %></h3>
      <p>Reservas proximas</p>
    </div>
    <div class="stat-card">
      <h3><%= @restaurants.count %></h3>
      <p>Restaurantes activos</p>
    </div>
  </div>

  <div class="module-card">
    <div class="section-header">
      <h2>Tus restaurantes</h2>
      <span class="text-muted">Selecciona un restaurante para entrar a su panel.</span>
    </div>
    <div class="restaurant-workspaces">
      <% @restaurants.each do |restaurant| %>
        <div class="workspace-card">
          <div>
            <h3><%= restaurant.name %></h3>
            <p class="text-muted"><%= restaurant.address.presence || "Direccion pendiente" %></p>
          </div>
          <div class="workspace-actions">
            <%= link_to "Abrir panel", admin_restaurant_path(restaurant), class: "btn btn-primary btn-sm" %>
            <%= link_to "Editar", edit_admin_restaurant_path(restaurant), class: "btn btn-secondary btn-sm" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<%= link_to edit_admin_restaurant_path(current_restaurant), class: "fab", aria: { label: "Editar restaurante" } do %>
  +
<% end %>
